<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ì´ˆë“± ê³ í•™ë…„ IQ í…ŒìŠ¤íŠ¸</title>
<style>
  body { background-color: #000; color: gold; font-family: 'Georgia', serif; text-align: center; padding: 20px; }
  #quiz, #certificate { max-width: 700px; margin: auto; border: 5px solid gold; padding: 20px; border-radius: 15px; }
  button { background: gold; color: black; border: none; padding: 10px 20px; font-size: 1.2em; margin: 10px; cursor: pointer; border-radius: 8px; }
  input { padding: 8px; font-size: 1.2em; margin-bottom: 15px; width: 80%; }
  .question { margin: 20px 0; }
</style>
</head>
<body>
  <h1>ğŸ“— ì´ˆë“± ê³ í•™ë…„ IQ í…ŒìŠ¤íŠ¸</h1>
  <div id="start">
    <p>ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</p>
    <input type="text" id="name" placeholder="ì´ë¦„" required><br>
    <input type="number" id="age" placeholder="ë‚˜ì´" required><br>
    <button onclick="startQuiz()">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
  </div>

  <div id="quiz" style="display:none;">
    <h2 id="qTitle">ë¬¸ì œ 1</h2>
    <p id="qText"></p>
    <div id="answers"></div>
  </div>

  <div id="certificate" style="display:none;">
    <h1>CERTIFICATE OF IQ ACHIEVEMENT</h1>
    <h2 id="certName"></h2>
    <p>has achieved an IQ of <span id="certIQ"></span></p>
    <p>on the Elementary Upper Grade IQ Test</p>
    <hr>
    <p><b>ğŸ“Š Score Analysis:</b></p>
    <p id="certDetails"></p>
    <p><b>ğŸ¥‡ Percentile Ranking:</b> Top <span id="certPercentile"></span>%</p>
    <button onclick="downloadCertificate()">Download Certificate</button>
  </div>

  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script>
    const questions = [
      // ì‹œê° ì˜ì—­ (5ë¬¸ì œ)
      {q: "ë‹¤ë¥¸ ê·¸ë¦¼ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ? ğŸ€ğŸ€âš½", a: ["ğŸ€", "âš½"], correct: "âš½", area: "ì‹œê°"},
      {q: "ê°™ì€ ë„í˜•ì€? ğŸ”µâ¬›ğŸ”µ", a: ["ğŸ”µ", "â¬›"], correct: "ğŸ”µ", area: "ì‹œê°"},
      {q: "ì–´ëŠ ê²ƒì´ ë” ë¬´ê²ìŠµë‹ˆê¹Œ? ğŸë˜ëŠ” ğŸª¨", a: ["ğŸ", "ğŸª¨"], correct: "ğŸª¨", area: "ì‹œê°"},
      {q: "ë¹¨ê°„ìƒ‰ ë¬¼ê±´ì€? ğŸ“ğŸ‹ğŸ", a: ["ğŸ“", "ğŸ‹", "ğŸ"], correct: "ğŸ“", area: "ì‹œê°"},
      {q: "ë„¤ëª¨ëŠ” ì–´ëŠ ê²ƒì…ë‹ˆê¹Œ? ğŸ”ºâ¬›ğŸ”µ", a: ["ğŸ”º", "â¬›", "ğŸ”µ"], correct: "â¬›", area: "ì‹œê°"},

      // ìˆ˜ë¦¬ ì˜ì—­ (7ë¬¸ì œ)
      {q: "15 + 7 = ?", a: ["21", "22", "23"], correct: "22", area: "ìˆ˜ë¦¬"},
      {q: "24 Ã· 6 = ?", a: ["3", "4", "5"], correct: "4", area: "ìˆ˜ë¦¬"},
      {q: "7 x 8 = ?", a: ["54", "56", "58"], correct: "56", area: "ìˆ˜ë¦¬"},
      {q: "100 - 47 = ?", a: ["52", "53", "54"], correct: "53", area: "ìˆ˜ë¦¬"},
      {q: "3, 6, 12, 24, ë‹¤ìŒì€?", a: ["36", "48", "60"], correct: "48", area: "ìˆ˜ë¦¬"},
      {q: "125 Ã· 5 = ?", a: ["20", "25", "30"], correct: "25", area: "ìˆ˜ë¦¬"},
      {q: "9Â² = ?", a: ["81", "72", "90"], correct: "81", area: "ìˆ˜ë¦¬"},

      // ì¶”ë¡  ì˜ì—­ (8ë¬¸ì œ)
      {q: "ë‹¤ìŒì— ì˜¬ ê²ƒì€? ğŸ”´ğŸ”µğŸ”´ğŸ”µ ?", a: ["ğŸ”´", "ğŸ”µ", "ğŸŸ¢"], correct: "ğŸ”´", area: "ì¶”ë¡ "},
      {q: "ğŸ¶â¡ğŸ¾, ğŸ±â¡?", a: ["ğŸ­", "ğŸ¾", "ğŸŸ"], correct: "ğŸ¾", area: "ì¶”ë¡ "},
      {q: "ì—¬ë¦„ì— ì…ëŠ” ì˜·ì€?", a: ["íŒ¨ë”©", "ë°˜íŒ”", "ì½”íŠ¸"], correct: "ë°˜íŒ”", area: "ì¶”ë¡ "},
      {q: "ì‹œê°„: ì˜¤ì „ 11ì‹œ. ì‹œê³„ëŠ”?", a: ["ğŸ•™", "ğŸ•š", "ğŸ•›"], correct: "ğŸ•š", area: "ì¶”ë¡ "},
      {q: "ë‹¤ìŒ ì¤‘ íƒˆ ê²ƒ ì•„ë‹Œ ê²ƒì€?", a: ["ìì „ê±°", "ë²„ìŠ¤", "ëƒ‰ì¥ê³ "], correct: "ëƒ‰ì¥ê³ ", area: "ì¶”ë¡ "},
      {q: "ğŸ, ğŸ, ğŸ, ë‹¤ìŒì€?", a: ["ğŸ", "ğŸ", "ğŸŒ"], correct: "ğŸ", area: "ì¶”ë¡ "},
      {q: "ì–´ë–¤ ê²ƒì´ ê°€ì¥ ë¹ ë¦…ë‹ˆê¹Œ? ğŸ¢ğŸ‡ğŸ¦…", a: ["ğŸ¢", "ğŸ‡", "ğŸ¦…"], correct: "ğŸ¦…", area: "ì¶”ë¡ "},
      {q: "ìˆœì„œëŒ€ë¡œ ë°°ì—´í•˜ì„¸ìš”: ì”¨ì•—ğŸŒ±ë‚˜ë¬´ğŸŒ³", a: ["ì”¨ì•—ğŸŒ±ğŸŒ³", "ğŸŒ±ì”¨ì•—ğŸŒ³", "ğŸŒ³ì”¨ì•—ğŸŒ±"], correct: "ì”¨ì•—ğŸŒ±ğŸŒ³", area: "ì¶”ë¡ "}
    ];

    let userName = "", userAge = 0, currentQ = 0, score = 0, areaScores = {ì‹œê°: 0, ìˆ˜ë¦¬: 0, ì¶”ë¡ : 0};

    function startQuiz() {
      userName = document.getElementById('name').value;
      userAge = parseInt(document.getElementById('age').value);
      if (!userName || !userAge) return alert("ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      document.getElementById('start').style.display = 'none';
      document.getElementById('quiz').style.display = 'block';
      showQuestion();
    }

    function showQuestion() {
      if (currentQ >= questions.length) return finishQuiz();
      document.getElementById('qTitle').innerText = `ë¬¸ì œ ${currentQ + 1}`;
      document.getElementById('qText').innerText = questions[currentQ].q;
      const answersDiv = document.getElementById('answers');
      answersDiv.innerHTML = "";
      questions[currentQ].a.forEach(choice => {
        const btn = document.createElement('button');
        btn.innerText = choice;
        btn.onclick = () => checkAnswer(choice);
        answersDiv.appendChild(btn);
      });
    }

    function checkAnswer(answer) {
      if (answer === questions[currentQ].correct) {
        score++;
        areaScores[questions[currentQ].area]++;
      }
      currentQ++;
      showQuestion();
    }

    function finishQuiz() {
      document.getElementById('quiz').style.display = 'none';
      const rawIQ = Math.round((score / questions.length) * 150);
      const ageBonus = userAge <= 10 ? 15 : userAge == 11 ? 10 : userAge == 12 ? 5 : 0;
      const finalIQ = rawIQ + ageBonus;
      const percentile = finalIQ >= 140 ? 1 : finalIQ >= 120 ? 10 : finalIQ >= 100 ? 50 : 80;

      document.getElementById('certName').innerText = `${userName} (Age: ${userAge})`;
      document.getElementById('certIQ').innerText = finalIQ;
      document.getElementById('certPercentile').innerText = percentile;

      document.getElementById('certDetails').innerHTML = `
        Visual: ${areaScores.ì‹œê°}/5<br>
        Math: ${areaScores.ìˆ˜ë¦¬}/7<br>
        Reasoning: ${areaScores.ì¶”ë¡ }/8
      `;

      document.getElementById('certificate').style.display = 'block';
    }

    function downloadCertificate() {
      html2canvas(document.querySelector("#certificate")).then(canvas => {
        const link = document.createElement('a');
        link.download = `${userName}_IQ_Certificate.png`;
        link.href = canvas.toDataURL();
        link.click();
      });
    }
  </script>
</body>
</html>
